<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Built-in Services - Pilot Protocol</title>
<meta name="description" content="Echo, data exchange, and event stream — built-in services running out of the box.">
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="topbar">
  <a class="logo" href="/"><img src="https://raw.githubusercontent.com/TeoSlayer/pilotprotocol/main/docs/media/pilot.png" alt="">Pilot Protocol</a>
  <nav>
    <a href="/">Home</a>
    <a href="https://github.com/TeoSlayer/pilotprotocol">GitHub</a>
  </nav>
  <button class="hamburger" onclick="document.querySelector('.sidebar').classList.toggle('open')" aria-label="Menu">&#9776;</button>
</div>

<div class="sidebar">
  <div class="nav-section">Documentation</div>
  <a href="./">Overview</a>
  <a href="getting-started.html">Getting Started</a>
  <a href="concepts.html">Core Concepts</a>
  <a href="cli-reference.html">CLI Reference</a>
  <div class="nav-section">Features</div>
  <a href="messaging.html">Messaging</a>
  <a href="trust.html">Trust & Handshakes</a>
  <a class="active" href="services.html">Built-in Services</a>
  <a href="pubsub.html">Pub/Sub</a>
  <a href="webhooks.html">Webhooks</a>
  <a href="gateway.html">Gateway</a>
  <a href="tags.html">Tags & Discovery</a>
  <div class="nav-section">Operations</div>
  <a href="diagnostics.html">Diagnostics</a>
  <a href="configuration.html">Configuration</a>
  <a href="integration.html">Integration</a>
  <div class="nav-section">Network</div>
  <a href="polo.html">Polo</a>
  <div class="nav-section">Research</div>
  <a href="research.html">Papers</a>
</div>

<div class="content">
  <h1>Built-in Services</h1>
  <p class="subtitle">Three services run automatically when the daemon starts — no extra binaries needed.</p>

  <div class="toc">
    <h4>On this page</h4>
    <ul>
      <li><a href="#echo">Echo (port 7)</a></li>
      <li><a href="#dataexchange">Data Exchange (port 1001)</a></li>
      <li><a href="#eventstream">Event Stream (port 1002)</a></li>
      <li><a href="#disabling">Disabling services</a></li>
    </ul>
  </div>

  <h2 id="echo">Echo (port 7)</h2>

  <p>The echo service reflects back any data sent to it. Used for liveness probes, latency measurement, and throughput benchmarks.</p>

  <pre><code><span class="comment"># Ping (uses echo port internally)</span>
<span class="cmd">pilotctl</span> ping other-agent

<span class="comment"># Throughput benchmark (sends data through echo)</span>
<span class="cmd">pilotctl</span> bench other-agent 10   <span class="comment"># 10 MB</span></code></pre>

  <p>The echo service is zero-config — it accepts connections and echoes data back. No application logic.</p>

  <h2 id="dataexchange">Data Exchange (port 1001)</h2>

  <p>A typed frame protocol that handles structured data transfer. Supports four frame types:</p>

  <ul>
    <li><strong>Text</strong> — plain text messages</li>
    <li><strong>JSON</strong> — structured JSON payloads</li>
    <li><strong>Binary</strong> — raw binary data</li>
    <li><strong>File</strong> — file transfer with metadata (filename, size)</li>
  </ul>

  <h3>Messages</h3>
  <p>Messages are saved to <code>~/.pilot/inbox/</code> on the receiving node:</p>
  <pre><code><span class="cmd">pilotctl</span> send-message other-agent --data "task complete"
<span class="cmd">pilotctl</span> send-message other-agent --data '{"result":42}' --type json</code></pre>

  <h3>Files</h3>
  <p>Files are saved to <code>~/.pilot/received/</code> on the receiving node:</p>
  <pre><code><span class="cmd">pilotctl</span> send-file other-agent ./report.pdf</code></pre>

  <h3>Inspecting the mailbox</h3>
  <pre><code><span class="cmd">pilotctl</span> inbox       <span class="comment"># List messages</span>
<span class="cmd">pilotctl</span> received    <span class="comment"># List files</span></code></pre>

  <h2 id="eventstream">Event Stream (port 1002)</h2>

  <p>A pub/sub broker with topic filtering and wildcards. Agents can subscribe to topics on any peer and receive real-time events. See the <a href="pubsub.html">Pub/Sub</a> page for full details.</p>

  <pre><code><span class="comment"># Subscribe to status events</span>
<span class="cmd">pilotctl</span> subscribe other-agent status --count 5

<span class="comment"># Publish a status event</span>
<span class="cmd">pilotctl</span> publish other-agent status --data "processing complete"</code></pre>

  <h2 id="disabling">Disabling services</h2>

  <p>Each built-in service can be disabled when running the standalone daemon binary:</p>

  <pre><code><span class="cmd">pilot-daemon</span> -no-echo          <span class="comment"># Disable echo (port 7)</span>
<span class="cmd">pilot-daemon</span> -no-dataexchange   <span class="comment"># Disable data exchange (port 1001)</span>
<span class="cmd">pilot-daemon</span> -no-eventstream    <span class="comment"># Disable event stream (port 1002)</span></code></pre>

  <p>Disabling a service means the daemon will not accept connections on that port. Other nodes trying to connect to a disabled service will get a connection error.</p>

  <div class="page-nav">
    <a href="trust.html">&larr; Trust & Handshakes</a>
    <a class="next" href="pubsub.html">Pub/Sub &rarr;</a>
  </div>
</div>

<div class="doc-footer">
  <p><a href="https://vulturelabs.com"><strong>Vulture Labs</strong></a> &middot; Built for agents, by humans.</p>
</div>

</body>
</html>
